{% set entries =
  craft.entries.section('events').with(['poster']).orderBy(
    'dateOfEvent desc'
  ).limit(
    6
  )
%}

{% set page = page ?? 1 %}
{% set pageInfo = sprig.paginate(entries, page) %}
{% set events = pageInfo.pageResults %}

<div class="container">
  <div id="eventsApp">
    <ul class="p-0 m-0 list-not-bullets"><li></li></ul>
    <div class="row gy-4 mt-4">
      {% set nowDate = now|date('Y-m-d') %}
      {% for event in events %}
        <div class="col-12 col-md-6 col-lg-4">
          {% include 'partials/cardEvent/' with {
            nowDate: nowDate,
            location: event.eventLocation,
            poster: event.poster[0] ?? null,
            url: event.url,
            eventDate: event.dateOfEvent|date('Y-m-d'),
            tags: event.tags.collect() ?? []
          } %}
        </div>
      {% endfor %}
    </div>

    {% include 'partials/bodyEvents/utils/pagination' %}
  </div>
</div>
